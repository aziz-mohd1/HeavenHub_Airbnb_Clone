<style>
    @media screen and (max-width: 1200px) {
        .createListingBtn{
            display: none;
        }
    };
    
    
    
</style>

<nav class="bg-white h-[6.5rem] border-b-2 text-[#222222] sticky top-0 z-10 transition-all duration-200 ease-in">
    <div class="max-w-screen mx-auto px-5 flex items-center justify-between">
        <!-- Left Logo -->
        <div href="/listings" class="flex items-center justify-around">
            <a href="/listings" class="flex items-center justify-center">
                <img src="/images/AzizBrandLogo1-removebg-preview.png" alt="Logo" class="w-24 h-24 -ml-3">
                <div class="flex name flex-wrap items-start">
                    <p class="text-[2.2rem] h-10 -ml-5 whitespace-nowrap w-[9rem]">Heaven</p>
                    <p class="wrapo text-[2.2rem] text-[#FF385C] font-bold h-12 -ml-5 whitespace-nowrap">Hub.</p>
                </div>
            </a>
        </div>
        
        

        <!-- Search Bar -->
        <div class="relative w-full max-w-md hidden lg:flex">
            <input type="search" id="search-dropdown" class="block w-full p-2.5 text-sm outline-none border border-gray-400 rounded-3xl shadow-lg px-4" placeholder="Search your Hub..." required />
            <button type="submit" class="absolute top-0 right-0 p-2.5 text-sm font-medium w-30 h-full text-white bg-[#FF385C] rounded-3xl border border-gray-400 hover:bg-[#fa5170] flex justify-center items-center space-x-2">
                <svg class="w-4 h-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"/>
                </svg>
                <span class="text-white text-[1rem]">Search</span>
            </button>
        </div>

        <!-- Right Menu -->
        <div class="hidden md:flex items-center space-x-5 ">
            <a href="/listings/new" class="text-sm font-semibold createListingBtn text-[1.1rem]">HeavenHub your home</a>
            <div class="menuBar flex space-x-5 px-5 py-2 border rounded-3xl shadow-md border-gray-400">
                <% if (!currUser) { %>
                    <a href="/signup" class="font-semibold">Sign up</a>
                    <a href="/login" class="font-semibold">Log in</a>
                <% } else { %>
                    <a href="/logout" class="font-semibold">Log out</a>
                <% } %>
            </div>
        </div>

        <!-- Mobile Menu Button -->
        <button id="menu-toggle" class="block md:hidden fixed top-5 right-5 mt-5">
            <i class="fa-solid fa-bars text-2xl"></i>
        </button>
    </div>

    <!-- Mobile Dropdown Menu -->
    <div id="mobile-menu" class="hidden bg-white">
        <div class="flex flex-col justify-center items-center space-y-1">
            <a href="/listings/new" class="text-sm font-semibold text-[1.1rem]">HeavenHub your home</a>
            <% if (!currUser) { %>
                <a href="/signup" class="font-semibold text-[1.3rem]">Sign up</a>
                <a href="/login" class="font-semibold text-[1.3rem]">Log in</a>
            <% } else { %>
                <a href="/logout" class="font-semibold text-[1.3rem]">Log out</a>
            <% } %>
        </div>
    </div>
</nav>

<script>
    // JavaScript to handle the mobile menu toggle
    const menuToggle = document.getElementById('menu-toggle');
    const mobileMenu = document.getElementById('mobile-menu');
    const nav = document.querySelector("nav");

    menuToggle.addEventListener('click', () => {
        // Toggle the hidden class to show/hide the menu
        setTimeout(() => {
            mobileMenu.classList.toggle("hidden");
            if (!mobileMenu.classList.contains("hidden")) {
                nav.style.height = "12rem"; // Expand navbar
                setTimeout(() => {
                    mobileMenu.classList.add("opacity-100");
                    mobileMenu.classList.remove("opacity-0");
                }, 100); // Delay the opacity transition for smooth effect
            } else {
                nav.style.height = "6rem"; // Collapse navbar
                mobileMenu.classList.add("opacity-0");
                mobileMenu.classList.remove("opacity-100");
            }
        }, 300);
    });

    // Listen for window resize events to reset the nav height for larger screens
    // window.addEventListener('resize', () => {
    //     if (window.innerWidth >= 700) { // Reset height when the screen width is medium or larger
    //         nav.style.height = "5rem";  // Set to original height for larger screens
    //         mobileMenu.classList.add('hidden');  // Ensure the mobile menu is hidden
    //         mobileMenu.classList.remove("opacity-100");
    //         mobileMenu.classList.add("opacity-0");
    //     }
    // });
</script>